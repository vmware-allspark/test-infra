org: istio
repo: istio
image: fooimage
branches:
  - master

jobs:
  - name: test
    command: [prow/command.sh]
    image: barimage
    regex: "foo.*"

  - name: presubmit-kind
    type: presubmit
    resources: custom
    requirements: [kind]
    command: [prow/istio-lint.sh]
    env:
    - name: var
      value: val
    repos: [istio/istio]

  - name: custom-node-selector
    type: presubmit
    command: [prow/command.sh]
    node_selector:
      foo: baz

  - name: periodic-job
    type: periodic
    cron: 0 2 * * *
    command: [run/nightly.sh]


resources:
  default:
    requests:
      memory: "1Gi"
      cpu: "1000m"
  custom:
    requests:
      memory: "3Gi"
      cpu: "3000m"
    limits:
      memory: "5Gi"
      cpu: "5000m"
